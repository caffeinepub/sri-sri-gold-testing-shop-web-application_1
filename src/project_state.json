{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 9,
  "summary": "Build a free-to-access web application for Sri Sri Gold Testing Shop with owner/customer logins, appointments, test-result lookup by serial number, feedback, owner-admin dashboard for content and results management, password reset workflows, PWA installability, QR/link sharing, and UI theming based on a provided background image.",
  "architectural_notes": [
    "Role-based access control (Owner vs Customer) with protected routes/pages",
    "Password reset workflow supports either owner-admin reset or OTP-based self-service via mobile number",
    "PWA installability for mobile (Add to Home Screen) and optional biometric lock on supported devices",
    "Test results are indexed by serial number for customer lookup/search; owner manages daily uploads/updates",
    "Owner dashboard includes live user registration feed ('users update') and management tools"
  ],
  "known_issues": [
    "Test Results module: saving/updating a test result fails with an error (results not being saved).",
    "Multiple modules/features are not working in the deployed application (general runtime errors across features).",
    "User registration issue: after a user registers, the registered user is not showing/appearing (e.g., in owner 'users update' list or expected UI)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-implement-custom-authentication-with-two-roles-1-a-fixed-owner-account-with-username-bhanuchand-and-password-prataap-2-customer-accounts-with-registration-and-login-using-username-password-and-a-required-mobile-number-after-successful-login-show-a-welcome-section-page",
      "title": "Implement custom authentication with two roles: (1) a fixed Owner account with username \"Bhanuchand\" and password \"Prataap\"; (2) Customer accounts with registration and login using username + password and a required mobile number. After successful login, show a welcome section/page.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-public-or-pre-login-shop-info-view-that-displays-the-shop-s-basic-details-and-also-make-the-same-information-accessible-post-login-address-opposite-cloth-complex-kadapa-main-road-mydukur-contact-numbers-7893552706-and-9701758114-timings-9-00-am-to-8-00-pm",
      "title": "Create a public or pre-login Shop Info view that displays the shop’s basic details and also make the same information accessible post-login: address \"Opposite cloth complex, Kadapa main road, Mydukur\"; contact numbers \"7893552706\" and \"9701758114\"; timings \"9:00 AM to 8:00 PM\".",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-owner-managed-editable-content-system-for-key-page-text-e-g-welcome-message-and-shop-info-text-blocks-owner-must-be-able-to-edit-and-save-these-contents-from-the-owner-dashboard-and-customers-should-see-updated-content-without-requiring-code-changes",
      "title": "Add an Owner-managed editable content system for key page text (e.g., welcome message and shop info text blocks). Owner must be able to edit and save these contents from the Owner Dashboard, and customers should see updated content without requiring code changes.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-feedback-module-after-login-customers-can-submit-feedback-on-a-separate-feedback-page-owners-can-view-all-feedback-submissions-in-the-owner-dashboard",
      "title": "Implement Feedback module: after login, customers can submit feedback on a separate Feedback page; owners can view all feedback submissions in the Owner Dashboard.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-appointments-module-customers-can-book-an-appointment-owners-can-view-manage-all-appointment-requests-in-the-owner-dashboard",
      "title": "Implement Appointments module: customers can book an appointment; owners can view/manage all appointment requests in the Owner Dashboard.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-test-results-module-owner-can-create-update-daily-test-results-customers-can-search-and-view-test-results-by-serial-number-exactly-as-written-on-the-test-paper-and-see-their-previous-results-history-test-results-must-be-visible-to-customers-by-serial-number-lookup",
      "title": "Implement Test Results module: owner can create/update daily test results; customers can search and view test results by serial number (exactly as written on the test paper) and see their previous results/history. Test results must be visible to customers by serial number lookup.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-owner-dashboard-users-update-section-that-lists-newly-registered-customers-immediately-showing-username-mobile-number-and-password-as-requested-by-the-owner-include-a-customer-count-summary-for-the-owner-total-registered-customers-and-clearly-show-how-many-customers-are-able-to-log-in-based-on-the-current-system-settings",
      "title": "Add Owner Dashboard \"Users update\" section that lists newly registered customers immediately, showing username, mobile number, and password as requested by the owner. Include a customer count summary for the owner (total registered customers) and clearly show how many customers are able to log in based on the current system settings.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-forgot-password-workflow-that-does-not-rely-on-external-sms-email-providers-customer-can-request-a-password-reset-using-their-mobile-number-and-or-username-owner-can-see-pending-reset-requests-and-reset-the-password-from-the-owner-dashboard-implement-a-4-digit-reset-passcode-flow-where-the-owner-can-communicate-the-passcode-to-the-user-out-of-band-e-g-via-whatsapp-and-the-user-can-reset-their-password-by-entering-mobile-number-4-digit-passcode-inside-the-app",
      "title": "Implement Forgot Password workflow that does not rely on external SMS/email providers: customer can request a password reset using their mobile number and/or username; owner can see pending reset requests and reset the password from the Owner Dashboard. Implement a 4-digit reset passcode flow where the owner can communicate the passcode to the user out-of-band (e.g., via WhatsApp), and the user can reset their password by entering mobile number + 4-digit passcode inside the app.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-requested-5-minute-delay-behavior-for-owner-initiated-password-resets-as-a-configurable-policy-after-the-owner-resets-a-user-s-password-the-new-password-becomes-valid-only-after-5-minutes-show-a-countdown-availability-message-to-the-user-on-the-reset-login-screen",
      "title": "Implement the requested 5-minute delay behavior for owner-initiated password resets as a configurable policy: after the owner resets a user’s password, the new password becomes valid only after 5 minutes (show a countdown/availability message to the user on the reset/login screen).",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-pwa-installability-so-customers-can-install-the-app-on-mobile-add-to-home-screen-include-an-in-app-prompt-help-section-describing-how-to-install-when-supported-by-the-browser",
      "title": "Add PWA installability so customers can install the app on mobile (Add to Home Screen). Include an in-app prompt/help section describing how to install when supported by the browser.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-and-display-a-shareable-application-link-and-an-on-screen-qr-code-for-the-app-url-so-it-can-be-shared-via-whatsapp-text-link",
      "title": "Generate and display a shareable application link and an on-screen QR code for the app URL so it can be shared via WhatsApp/text/link.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-an-optional-fingerprint-biometric-lock-feature-using-webauthn-passkeys-where-supported-allow-users-to-enable-disable-biometric-re-authentication-on-the-device-and-require-it-to-unlock-access-to-the-app-session-on-that-device-after-login",
      "title": "Implement an optional “Fingerprint/biometric lock” feature using WebAuthn/Passkeys where supported: allow users to enable/disable biometric re-authentication on the device, and require it to unlock access to the app session on that device after login.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-enhance-owner-dashboard-data-management-ui-to-include-explicit-edit-actions-for-records-and-an-add-column-capability-for-at-least-the-test-results-table-so-the-owner-can-define-an-extra-custom-field-column-name-and-value-that-is-stored-and-displayed",
      "title": "Enhance Owner Dashboard data management UI to include explicit Edit actions for records and an \"Add column\" capability for at least the Test Results table so the owner can define an extra custom field/column name and value that is stored and displayed.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-coherent-simple-modern-visual-theme-colors-typography-spacing-component-styling-that-complements-the-provided-background-image-and-use-it-consistently-across-login-customer-pages-and-owner-dashboard-do-not-use-a-blue-purple-primary-theme",
      "title": "Apply a coherent, simple, modern visual theme (colors, typography, spacing, component styling) that complements the provided background image, and use it consistently across login, customer pages, and owner dashboard. Do not use a blue/purple primary theme.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-add-the-provided-attached-image-as-a-global-background-responsive-across-the-app-at-minimum-on-login-and-main-shell-pages-and-ensure-content-remains-readable-with-appropriate-overlays",
      "title": "Add the provided/attached image as a global background (responsive) across the app (at minimum on login and main shell pages) and ensure content remains readable with appropriate overlays.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-simplify-the-owner-add-update-test-result-form-so-it-only-collects-1-serial-number-and-2-a-single-free-text-message-field-a-large-message-box-remove-hide-all-other-existing-test-result-input-fields-from-the-ui",
      "title": "Simplify the Owner \"Add/Update Test Result\" form so it only collects (1) Serial Number and (2) a single free-text Message field (a large message box). Remove/hide all other existing test-result input fields from the UI.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-customer-test-results-lookup-results-display-so-it-shows-only-the-serial-number-and-the-saved-message-content-and-does-not-show-the-removed-test-result-fields-boxes",
      "title": "Update the customer Test Results Lookup results display so it shows only the Serial Number and the saved Message content (and does not show the removed test-result fields/boxes).",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-map-the-new-single-message-field-to-persisted-test-result-data-so-that-a-existing-backend-api-calls-continue-to-work-and-b-the-message-can-be-retrieved-and-displayed-in-the-customer-lookup-view",
      "title": "Map the new single Message field to persisted test-result data so that (a) existing backend API calls continue to work and (b) the message can be retrieved and displayed in the customer lookup view.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-owner-dashboard-tab-labeled-daily-gold-updates",
      "title": "Add a new Owner Dashboard tab labeled \"Daily Gold Updates\".",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-customer-facing-page-for-daily-gold-updates-that-lists-the-updates-returned-from-the-backend-and-make-it-reachable-via-app-navigation-for-authenticated-customers",
      "title": "Create a customer-facing page for \"Daily Gold Updates\" that lists the updates returned from the backend and make it reachable via app navigation for authenticated customers.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-add-owner-ui-in-the-daily-gold-updates-dashboard-tab-to-create-update-entries-date-rate-value-notes-and-refresh-the-list-after-saving",
      "title": "Add Owner UI in the \"Daily Gold Updates\" dashboard tab to create/update entries (date, rate/value, notes) and refresh the list after saving.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-test-result-save-update-mutation-so-the-canister-call-succeeds-and-the-test-result-is-actually-persisted-when-the-owner-submits-serial-number-message",
      "title": "Fix the Test Result save/update mutation so the canister call succeeds and the test result is actually persisted when the owner submits Serial Number + Message.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-error-message-shown-when-saving-a-test-result-fails-so-it-includes-the-actual-error-details-returned-by-the-failed-canister-call-while-remaining-in-english",
      "title": "Improve the error message shown when saving a test result fails so it includes the actual error details returned by the failed canister call (while remaining in English).",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-authentication-authorization-so-that-all-feature-pages-test-results-lookup-feedback-submit-appointments-booking-daily-gold-updates-view-owner-dashboard-data-tabs-work-without-unauthorized-actor-not-available-runtime-errors-after-a-user-logs-in-with-the-existing-username-password-system",
      "title": "Fix authentication/authorization so that all feature pages (Test Results lookup, Feedback submit, Appointments booking, Daily Gold Updates view, Owner Dashboard data tabs) work without “Unauthorized”/“Actor not available” runtime errors after a user logs in with the existing username/password system.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-login-flow-frontend-src-pages-loginpage-tsx-to-call-the-new-backend-role-session-handshake-after-local-username-password-validation-succeeds-and-block-navigation-to-authenticated-pages-until-the-handshake-succeeds-showing-an-english-error-if-it-fails",
      "title": "Update the frontend login flow (frontend/src/pages/LoginPage.tsx) to call the new backend role/session handshake after local username/password validation succeeds, and block navigation to authenticated pages until the handshake succeeds (showing an English error if it fails).",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-customer-registration-reliably-appears-for-the-owner-by-persisting-new-customers-in-the-canister-and-rendering-the-owner-users-update-list-from-canister-data-not-only-from-localstorage",
      "title": "Ensure customer registration reliably appears for the owner by persisting new customers in the canister and rendering the Owner “Users Update” list from canister data (not only from localStorage).",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-serial-number-field-from-the-customer-appointments-booking-form-ui-and-stop-requiring-users-to-enter-it-keep-the-appointment-submission-functional-by-sending-an-empty-string-or-a-backend-safe-placeholder-value-for-serialnumber",
      "title": "Remove the Serial Number field from the customer Appointments booking form UI and stop requiring users to enter it; keep the appointment submission functional by sending an empty string or a backend-safe placeholder value for serialNumber.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-serial-number-from-appointment-displays-in-the-owner-dashboard-appointments-table-so-it-is-not-shown-to-the-owner-in-the-ui",
      "title": "Remove Serial Number from appointment displays in the Owner Dashboard Appointments table so it is not shown to the owner in the UI.",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-error-reporting-across-feature-mutations-and-queries-appointments-feedback-customers-to-surface-actual-canister-error-details-in-english-instead-of-generic-please-try-again-when-a-canister-call-fails",
      "title": "Improve error reporting across feature mutations and queries (Appointments, Feedback, Customers) to surface actual canister error details in English instead of generic “Please try again” when a canister call fails.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Owner & customer authentication: owner login (Bhanuchand/Prataap), customer registration/login with username+password, welcome section after login",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Shop info pages/sections: address, contact numbers, timings; owner can edit page content",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Feedback module: separate feedback page after login; owner can view feedback in dashboard",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Appointments module: customers can book appointments; owner can view/manage appointments",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Test results module: owner updates daily test results; customers view/search results by serial number (as on test paper) and see previous results",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Password recovery: forgot password requests; owner can reset user passwords OR user self-reset via mobile number + 4-digit OTP/passcode; optional 5-minute delay before new password appears",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "User management dashboard: show registered users (username, mobile number, password as requested) in an owner dashboard section named 'users update' and update immediately after registration",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Usage/admin visibility: owner can see how many customers can log in / customer count (capacity/limit and reporting)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Sharing & access: generate application link and QR code for sharing via WhatsApp/text/link",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "PWA support: allow users to install the web app on mobile devices (Add to Home Screen)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Security/lock: add fingerprint lock option for the app on supported devices",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "UI customization: set attached image as background; adjust colors/fonts to match for a simple, smart, attractive design",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Owner dashboard enhancements: add edit option and ability to add another column in dashboard data tables/forms",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Test Results UI change: keep Serial No field; remove the remaining input boxes and show only a single message box/field instead",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Add a new tab/section for 'Daily Gold Updates'",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Implement backend storage and APIs for Daily Gold Updates so the Owner can create/update daily entries and authenticated users can view them.",
      "reqIds": [
        "REQ-20"
      ],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Appointments module UI change: remove Serial No field from appointment booking/request form (and any related appointment views)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Add backend role/session handshake APIs in backend/main.mo so the frontend can register the current caller principal as either an Owner (admin) or Customer (user) based on the existing username/password flow, enabling AccessControl checks to pass for subsequent canister calls.",
      "reqIds": [
        "REQ-26"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Sri Sri Gold Testing Shop Web Application",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}